# Convex Self-Hosted Docker Configuration Template
# This template is used to generate .env.docker with workspace-specific values

# ============================================================================
# SERVICE PORTS
# ============================================================================
PORT=3210
SITE_PROXY_PORT=3211
DASHBOARD_PORT=6791
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# ============================================================================
# CONVEX BACKEND CONFIGURATION
# ============================================================================
INSTANCE_NAME=app
INSTANCE_SECRET=${INSTANCE_SECRET}

# Convex URLs for self-hosted deployment (will be filled from workspace environment)
CONVEX_CLOUD_ORIGIN=${CONVEX_CLOUD_ORIGIN}
CONVEX_SITE_ORIGIN=${CONVEX_SITE_ORIGIN}
NEXT_PUBLIC_DEPLOYMENT_URL=${NEXT_PUBLIC_DEPLOYMENT_URL}

# Admin key for dashboard access (will be generated or retrieved from Docker)
NEXT_PUBLIC_ADMIN_KEY=${NEXT_PUBLIC_ADMIN_KEY}

# Development settings
CONVEX_RELEASE_VERSION_DEV=
DO_NOT_REQUIRE_SSL=true
DISABLE_BEACON=true
REDACT_LOGS_TO_CLIENT=false

# Logging
RUST_LOG=info
RUST_BACKTRACE=
LOG_FORMAT=
NO_COLOR=
CONVEX_TRACE_FILE=
CONVEX_SITE=
ISOLATE_V8_FLAGS=

# Database configuration - Uses SQLite by default (PostgreSQL can be enabled)
POSTGRES_URL=
MYSQL_URL=

# ============================================================================
# MINIO S3 GATEWAY CONFIGURATION
# ============================================================================
MINIO_ROOT_USER=${MINIO_ROOT_USER}
MINIO_ROOT_PASSWORD=${MINIO_ROOT_PASSWORD}

# S3 Configuration for MinIO Gateway (OPTIONAL - Leave commented for local storage)
# To use S3 storage with MinIO, uncomment the lines below:
# AWS_REGION=${AWS_REGION}
# AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
# AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
# S3_ENDPOINT_URL=http://minio:9000
# AWS_S3_FORCE_PATH_STYLE=true

# S3 Bucket Configuration (OPTIONAL - Only needed if using S3 storage above)
# S3_STORAGE_FILES_BUCKET=convex-files
# S3_STORAGE_EXPORTS_BUCKET=convex-exports
# S3_STORAGE_SNAPSHOT_IMPORTS_BUCKET=convex-snapshot-imports
# S3_STORAGE_MODULES_BUCKET=convex-modules
# S3_STORAGE_SEARCH_BUCKET=convex-search

# Note: By default, Convex uses local file storage at /convex/data/storage
# This works out-of-the-box and avoids S3 encryption compatibility issues

# Timeout settings
ACTIONS_USER_TIMEOUT_SECS=
BUILD_TYPE=
NEXT_PUBLIC_HIDE_HEADER=
